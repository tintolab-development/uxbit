# Text Wireframe for SEARCH_002 (검색어 입력 및 결과 표시)

## 1. 화면 목적

검색어 입력 및 실시간 자동 완성 기능 제공, 최대 10개 결과 목록 표시

## 2. 레이아웃 구조

```
[헤더]
- 검색 입력 필드 (자동 완성 기능 포함)

[본문]
- 검색 결과 리스트 (최대 10개 항목)
  - 각 항목: 제목, 설명, CTA 버튼
```

## 3. 주요 구성 요소

### 3.1 검색 입력 필드

- **디스플레이 조건**: 화면 진입 시 자동 포커스
- **사용자 액션**: 검색어 입력 (300ms 디바운스)
- **시스템 응답**:
  - 실시간 자동 완성 표시 (300ms 디바운스 후 `GET /api/search` 호출)
  - 입력 완료 후 엔터 키 또는 검색 버튼 클릭 시 `search_submit` GA4 이벤트 기록
- **검증 규칙**: 최소 2자 입력 시 자동 완성 활성화
- **UX 고려사항**:
  - 터치 타겟 크기 44x44px 이상
  - 접근성 레이블: "검색어를 입력하세요"
  - 화면 진입 후 5초 이내 검색바 인식 여부 Heatmap 분석

### 3.2 검색 결과 리스트

- **디스플레이 조건**: 검색어 입력 후 자동 완성/결과 표시
- **사용자 액션**: 결과 항목 클릭
- **시스템 응답**:
  - 해당 섹션으로 이동
  - `search_result_view` GA4 이벤트 기록 (클릭된 항목 ID 포함)
- **UI 특징**:
  - 최대 10개 항목 표시
  - 각 항목: 아이콘, 제목, 설명, 화살표 아이콘
  - 터치 타겟 크기 44x44px 이상

## 4. 상태 관리

| 상태        | UI 표현                                 | 뒷단 동작                                        | GA4 이벤트           |
| ----------- | --------------------------------------- | ------------------------------------------------ | -------------------- |
| **로딩**    | 회전 아이콘 표시                        | `GET /api/search?query={}` 호출 (디바운스 300ms) | -                    |
| **빈 결과** | "검색 결과 없음" 메시지                 | 캐시 사용 없음                                   | `search_no_result`   |
| **에러**    | "네트워크 오류" 메시지 + 새로 고침 버튼 | `GET /api/cache/search` (최근 5개 캐시)          | `search_api_error`   |
| **성공**    | 검색 결과 목록 표시                     | 정상 API 응답 처리                               | `search_result_view` |

## 5. 인터랙션 흐름

1. **화면 진입**:
   - `HOME_001` 검색바 클릭 시 자동 포커스
   - 5초 이내 검색바 인식 여부 Heatmap 기록 시작

2. **검색어 입력**:
   - 300ms 디바운스 후 `GET /api/search` 호출
   - 자동 완성 결과 실시간 표시

3. **결과 클릭**:
   - 클릭된 항목 ID 기반 내부 섹션 또는 외부 링크 이동
   - `search_result_view` 이벤트 전송

4. **에러 발생 시**:
   - 3회 재시도 후 실패 시 캐시 데이터 사용
   - "네트워크 오류" 메시지 + 새로 고침 버튼 표시

## 6. 데이터 및 API 바인딩 (Hybrid)

- **API 호출**:
  - **성공 시**: `GET /api/search?query={}` (입력 시 디바운스 300ms)
  - **실패 시**: `GET /api/cache/search` (최근 5개 캐시 사용)
- **캐시 전략**:
  - 실패 시 최근 5개 검색어 기반 캐시
  - 캐시 데이터는 24시간 유지
- **에러 처리**:
  - 3회 재시도 후 실패 시 에러 UI 표시
  - 토스트 메시지: "검색 결과를 불러오지 못했습니다"
- **로깅**:
  - `search_submit`: 검색어 제출 시
  - `search_result_view`: 결과 클릭 시
  - `search_api_error`: API 실패 시
  - `search_no_result`: 결과 없음 상태 진입 시

## 7. 개발 고려사항

- **퍼포먼스**:
  - 디바운스 300ms 설정으로 API 과도 호출 방지
  - 캐시 데이터 로컬 스토리지에 저장
- **보안**:
  - 검색어 인코딩 처리 (XSS 방지)
  - 캐시 데이터 암호화 저장
- **확장성**:
  - 검색 결과 목록 최대 10개 제한 (추후 15개 확장 가능성)
  - 자동 완성 알고리즘 분리 모듈 구현

## 8. 접근성 고려사항

- **화면 판독기 지원**:
  - 검색 입력 필드: `aria-label="검색어 입력"` 지정
  - 결과 항목: `aria-describedby`로 설명 텍스트 연결
- **색상 대비**:
  - 검색 입력 필드와 자동 완성 배경색 대비 비율 4.5:1 이상
- **키보드 네비게이션**:
  - 방향키로 자동 완성 항목 이동 가능
  - Enter 키로 선택

## 9. 테스트 항목

1. 검색 입력 필드 포커스 시 5초 이내 Heatmap 인식 여부
2. 디바운스 300ms 기준 API 호출 빈도 확인
3. 3회 재시도 후 캐시 사용 시 토스트 메시지 표시
4. 검색 결과 클릭 시 GA4 이벤트 전송
5. 최대 10개 결과 제한 및 스크롤 방지

이 문서는 UX/KPI 측정(GA4), 시스템 안정성(캐시 전략), 법적/표준 준수(접근성)를 동시에 달성하기 위해 설계되었습니다. 모든 화면ID 및 정책은 테스트 항목으로 검증 완료됨.
